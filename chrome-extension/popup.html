<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>O Maskara</title>
  <link rel="stylesheet" href="popup.css" />
</head>

<body>
  <div class="app">

    <!-- HEADER -->
    <header class="top">
      <div class="brand">
        <div class="logo">
          <img src="icons/icon48.png" alt="O Maskara" />
        </div>
        <div>
          <div class="title">O Maskara</div>
          <div class="sub">
            <span id="userEmail">‚Äî</span>
          </div>
        </div>
      </div>

      <div class="top-actions">
        <button id="btnRefresh" class="iconbtn" type="button" aria-label="Atualizar">‚ü≥</button>
      </div>
    </header>

    <!-- LOGIN GATE -->
    <section id="loginGate" class="card" style="margin-top:10px" hidden>
      <div class="label">Login</div>
      <div class="hint" style="margin:6px 0 10px">
        Fa√ßa login com Google para carregar planos e kits.
      </div>

      <div class="actions" style="margin-top:0">
        <button id="btnGoogleLogin" class="primary" type="button">üîê Fazer login com Google</button>
      </div>

      <div class="hint" style="margin-top:10px">
        Se n√£o abrir a janela, verifique permiss√µes <span class="mono">identity</span> e <span class="mono">oauth2</span> no manifest.
      </div>
    </section>

    <!-- APP GATE -->
    <section id="appGate">

      <!-- PAGE 1: LIST -->
      <section id="pageList">
        <section class="search">
          <input id="q" type="search" placeholder="Buscar plano..." autocomplete="off" />
        </section>

        <section class="list" id="plansList"></section>
      </section>

      <!-- PAGE 2: DETAILS -->
      <section class="details" id="pageDetails" hidden>
        <div class="row">
          <span class="pill" id="planPill">Plano</span>
          <button id="btnBack" class="ghost" type="button">‚Üê Voltar</button>
        </div>

        <div class="card">
          <div class="label">Portal</div>
          <div id="planUrl" class="mono"></div>
        </div>

        <div class="card">
          <div class="field">
            <div class="field-top">
              <div class="label">Kit de procedimentos</div>
              <div class="helper" id="kitHint">Selecione um kit</div>
            </div>

            <div class="select-wrap">
              <select id="kitSelect" aria-label="Selecionar kit de procedimentos"></select>
              <span class="select-icon" aria-hidden="true">‚ñæ</span>
            </div>

            <div class="helper" id="codesInfo" style="margin-top:8px">C√≥digos: ‚Äî</div>
          </div>
        </div>

        <div class="actions">
          <button id="btnOpen" class="ghost" type="button">üåê Abrir portal</button>
          <button id="btnRun" class="primary maskara" type="button">üé≠ Executar Kit</button>
        </div>

        <div class="card" style="margin-top:10px">
          <div class="label">Logs</div>
          <textarea id="logBox" readonly spellcheck="false" placeholder="Logs aparecer√£o aqui..."></textarea>
        </div>
      </section>

    </section>

    <div id="toast" class="toast" hidden></div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
