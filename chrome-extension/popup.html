<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="popup.css" />
  <title>HealthPlan Runner</title>
</head>
<body>
  <header class="hdr">
    <img class="logo" src="icons/icon48.png" alt="logo" />
    <div class="hdrText">
      <div class="title">HealthPlan Runner</div>
      <div class="subtitle" id="subtitle">Cloud Run + ExtensÃ£o</div>
    </div>
    <button class="iconBtn" id="btnSettings" title="ConfiguraÃ§Ãµes">âš™ï¸</button>
  </header>

  <section class="card">
    <label class="lbl">Plano</label>
    <select id="planSelect" class="select"></select>

    <div class="row">
      <div class="col">
        <label class="lbl">Script</label>
        <select id="scriptSelect" class="select"></select>
      </div>
      <div class="col right">
        <button id="btnReload" class="btn ghost" title="Recarregar planos/scripts">âŸ³</button>
      </div>
    </div>

    <div class="smallRow">
      <div class="pill" id="pillUrl">URL: â€”</div>
      <div class="pill" id="pillVersion">vâ€”</div>
    </div>

    <label class="lbl">CÃ³digo (somente leitura)</label>
    <textarea id="codeBox" class="code" spellcheck="false" readonly></textarea>

    <div class="row">
      <button id="btnCopy" class="btn">ğŸ“‹ Copiar</button>
      <button id="btnRun" class="btn primary">â–¶ Executar na aba</button>
    </div>

    <div class="hint">
      Dica: se o portal pausar em <code>debugger</code>, pressione <b>F8</b> ou desative â€œPause on debugger statementsâ€.
    </div>
  </section>

  <section class="card">
    <div class="row">
      <div class="lbl">Logs</div>
      <div class="col right">
        <button id="btnClearLogs" class="btn ghost">Limpar</button>
      </div>
    </div>
    <pre id="logBox" class="logs"></pre>
  </section>

  <section class="card hidden" id="settingsCard">
    <div class="row">
      <div class="lbl">ConfiguraÃ§Ãµes</div>
      <div class="col right">
        <button id="btnCloseSettings" class="btn ghost">Fechar</button>
      </div>
    </div>

    <label class="lbl">API Base (Cloud Run)</label>
    <input id="apiBase" class="input" placeholder="https://SEU-SERVICE.run.app" />

    <label class="lbl">Client Key (opcional)</label>
    <input id="clientKey" class="input" placeholder="X-Client-Key" />

    <div class="row">
      <button id="btnSaveSettings" class="btn">Salvar</button>
      <button id="btnTestApi" class="btn ghost">Testar</button>
    </div>

    <div class="hint" id="settingsHint"></div>
  </section>

  <script src="popup.js"></script>
</body>
</html>
