{
  "version": 1,
  "generated_at": "2025-12-25",
  "scripts_by_plan": {
    "GEAP": {
         "AMBOS": "(async function () { try { const CODES = [\"40301087\",\"40301150\",\"40301222\",\"40301273\",\"40301281\",\"40301354\",\"40301362\",\"40301419\",\"40301427\",\"40301508\",\"40301567\",\"40301648\",\"40301729\",\"40301842\",\"40301990\",\"40302113\",\"40302199\",\"40302377\",\"40302520\",\"40302580\",\"40302601\",\"40302610\",\"40302733\",\"40302750\",\"40302830\",\"40304361\",\"40304507\",\"40305465\",\"40305627\",\"40312151\",\"40313310\",\"40316050\",\"40316076\",\"40316106\",\"40316157\",\"40316165\",\"40316203\",\"40316211\",\"40316220\",\"40316246\",\"40316254\",\"40316262\",\"40316270\",\"40316289\",\"40316300\",\"40316335\",\"40316360\",\"40316408\",\"40316416\",\"40316440\",\"40316483\",\"40316505\",\"40316513\",\"40316530\",\"40316572\"]; const sleep = ms => new Promise(r => setTimeout(r, ms)); const toggle = document.querySelector(\"a[href='#collapse2']\"); const div2 = document.getElementById(\"collapse2\"); if (toggle && div2 && !div2.classList.contains(\"in\")) { toggle.click(); await sleep(2000); } let primeira = null; for (let i = 0; i < 50; i++) { primeira = document.getElementsByName(\"item_medico_1\")[0]; if (primeira) break; await sleep(200); } if (!primeira) { console.error(\"‚ùå Timeout aguardando item_medico_1\"); return; } console.log(\"üé≠ [GEAP] formul√°rio pronto\"); async function digitar(el, code) { el.focus(); el.value = \"\"; for (const ch of code) { el.value += ch; el.dispatchEvent(new Event(\"input\", { bubbles: true })); await sleep(40); } el.dispatchEvent(new KeyboardEvent(\"keydown\", { key: \"Enter\", keyCode: 13, bubbles: true })); el.dispatchEvent(new KeyboardEvent(\"keyup\", { key: \"Enter\", keyCode: 13, bubbles: true })); } for (let i = 0; i < CODES.length; i++) { const idx = i + 1; const code = CODES[i]; if (idx > 1) { const btn = document.getElementById(\"button2\"); if (btn) { btn.click(); await sleep(600); } } const campo = document.getElementsByName(`item_medico_${idx}`)[0]; if (!campo) { console.error(`‚ùå Campo item_medico_${idx} n√£o encontrado`); break; } await digitar(campo, code); const qtd = document.getElementsByName(`qtd_solicitada_${idx}`)[0]; if (qtd) { qtd.value = \"1\"; qtd.dispatchEvent(new Event(\"input\", { bubbles: true })); qtd.dispatchEvent(new Event(\"change\", { bubbles: true })); } console.log(`‚úî Inserido ${code}`); await sleep(800); const modal = document.getElementById(\"modalDadosBiometria\"); if (modal && modal.classList.contains(\"in\")) { console.warn(\"‚ö†Ô∏è Modal biometria detectado\"); const chk = document.getElementById(\"validacaoCelularEmail\"); if (chk && !chk.checked) chk.click(); const ok = document.getElementById(\"btnModalDadosBiometria\"); if (ok) ok.click(); let t = 0; while (modal.classList.contains(\"in\") && t < 30) { await sleep(200); t++; } console.log(\"‚úî Modal fechado\"); } await sleep(6000); } console.log(\"üéâ GEAP finalizado com sucesso\"); } catch (e) { console.error(\"‚ùå [GEAP] erro fatal\", e); } })()"

    },
  



    "CASEMBRAPA": {
      "AMBOS": "(function(){const CONFIG={plan:'CASEMBRAPA',debug:true,waitTimeout:30000,charDelay:40,stepDelay:600,backendDelay:3000,maxRetry:3};const log=(...m)=>CONFIG.debug&&console.log('üé≠ ['+CONFIG.plan+']',...m);const sleep=ms=>new Promise(r=>setTimeout(r,ms));async function waitFor(sel,t=CONFIG.waitTimeout){const s=Date.now();while(Date.now()-s<t){const e=document.querySelector(sel);if(e)return e;await sleep(300);}throw new Error('Timeout '+sel);}async function run(){const CODES=[\"40301087\",\"40301150\",\"40301222\"];log('‚è≥ aguardando grid');const grid=await waitFor('#gridSolicitacao_gridProcedimentosSimples');for(const code of CODES){grid.querySelector('#insertButton')?.click();await sleep(600);const proc=await waitFor(\"input[name='PROCEDIMENTO']\");proc.value=code;proc.dispatchEvent(new Event('input',{bubbles:true}));proc.dispatchEvent(new KeyboardEvent('keydown',{key:'Enter',keyCode:13,bubbles:true}));log('‚úî inserido',code);await sleep(CONFIG.backendDelay);}log('üéâ finalizado');} (async()=>{for(let t=1;t<=CONFIG.maxRetry;t++){try{await run();return;}catch(e){console.error('‚ùå erro',t,e);if(t===CONFIG.maxRetry)throw e;await sleep(2000);}}})();})();"
    },

    "NOVASAude": {
      "AMBOS": "@GEAP"
    },

    "GAMASAUDE": {
      "AMBOS": "@GEAP"
    },

    "TRT": {
      "AMBOS": "(function(){const CONFIG={plan:'TRT',debug:true,waitTimeout:30000,backendDelay:4000,maxRetry:3};const log=(...m)=>CONFIG.debug&&console.log('üé≠ ['+CONFIG.plan+']',...m);const sleep=ms=>new Promise(r=>setTimeout(r,ms));async function waitFor(sel,t=CONFIG.waitTimeout){const s=Date.now();while(Date.now()-s<t){const e=document.querySelector(sel);if(e)return e;await sleep(300);}throw new Error('Timeout '+sel);}async function run(){const CODES=[\"40301087\",\"40301150\",\"40301222\"];for(const code of CODES){const input=await waitFor('#termoCodigoSolicitado');input.value=code;input.dispatchEvent(new Event('input',{bubbles:true}));input.dispatchEvent(new Event('change',{bubbles:true}));await sleep(1000);document.querySelector('button')?.click();log('‚úî inserido',code);await sleep(CONFIG.backendDelay);}log('üéâ finalizado');} (async()=>{for(let t=1;t<=CONFIG.maxRetry;t++){try{await run();return;}catch(e){console.error('‚ùå erro',t,e);if(t===CONFIG.maxRetry)throw e;await sleep(2000);}}})();})();"
    },

    "TJDFT": {
      "PROCEDIMENTOS": "(function(){const CONFIG={plan:'TJDFT',debug:true,waitTimeout:30000,charDelay:40,backendDelay:3000,maxRetry:3};const log=(...m)=>CONFIG.debug&&console.log('üé≠ ['+CONFIG.plan+']',...m);const sleep=ms=>new Promise(r=>setTimeout(r,ms));async function waitFor(sel,t=CONFIG.waitTimeout){const s=Date.now();while(Date.now()-s<t){const e=document.querySelector(sel);if(e)return e;await sleep(300);}throw new Error('Timeout '+sel);}async function run(){const CODES=[\"40301087\",\"40301150\",\"40301222\"];for(const code of CODES){const field=await waitFor('#HandleTermo');field.value='';for(const ch of code){field.value+=ch;field.dispatchEvent(new Event('input',{bubbles:true}));await sleep(CONFIG.charDelay);}field.dispatchEvent(new KeyboardEvent('keypress',{key:'Enter',keyCode:13,bubbles:true}));log('‚úî inserido',code);await sleep(CONFIG.backendDelay);}log('üéâ finalizado');} (async()=>{for(let t=1;t<=CONFIG.maxRetry;t++){try{await run();return;}catch(e){console.error('‚ùå erro',t,e);if(t===CONFIG.maxRetry)throw e;await sleep(2000);}}})();})();"
    }
  }
}
